---
layout: page
title: "Mouse Effects Preview"
permalink: /mouse-demo/
mouse_move_effect: false
mouse_click_effect: false
backgroud_animation: false
---

<div class="mt-2">
  <p class="text-muted mb-3">
    选择 <code>type</code>（1~12）和 <code>color</code>，下面的预览会自动刷新（在 iframe 里运行，避免和站点其它特效冲突）。
  </p>

  <div class="row g-2 align-items-end">
    <div class="col-12 col-md-3">
      <label for="mouse-type" class="form-label mb-1">Type</label>
      <select id="mouse-type" class="form-select">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
        <option value="6">6</option>
        <option value="7">7</option>
        <option value="8">8</option>
        <option value="9">9</option>
        <option value="10" selected>10</option>
        <option value="11">11</option>
        <option value="12">12</option>
      </select>
    </div>

    <div class="col-12 col-md-5">
      <label for="mouse-color" class="form-label mb-1">Color</label>
      <input
        id="mouse-color"
        class="form-control"
        placeholder='false 或 "#ff00aa" / "rgb(...)" / "rgba(...)"'
        value="false"
      />
    </div>

    <div class="col-12 col-md-4 d-flex gap-2">
      <button id="btn-refresh" type="button" class="btn btn-primary flex-grow-1">刷新预览</button>
      <a id="btn-open" class="btn btn-outline-secondary" href="#" target="_blank" rel="noopener">新标签打开</a>
    </div>
  </div>

  <div class="mt-3">
    <div class="ratio ratio-16x9">
      <iframe
        id="mouse-demo-frame"
        title="Mouse demo"
        class="w-100 h-100 border rounded"
        loading="lazy"
        referrerpolicy="no-referrer"
      ></iframe>
    </div>
  </div>
</div>

<script>
  (function () {
    const frameBase = "{{ '/mouse-demo/frame/' | relative_url }}";
    const typeEl = document.getElementById("mouse-type");
    const colorEl = document.getElementById("mouse-color");
    const frameEl = document.getElementById("mouse-demo-frame");
    const refreshBtn = document.getElementById("btn-refresh");
    const openBtn = document.getElementById("btn-open");

    function buildUrl() {
      const type = encodeURIComponent(typeEl.value || "10");
      const color = encodeURIComponent((colorEl.value || "false").trim());
      return `${frameBase}?type=${type}&color=${color}`;
    }

    function refresh() {
      const url = buildUrl();
      frameEl.src = url;
      openBtn.href = url;
    }

    refreshBtn.addEventListener("click", refresh);
    typeEl.addEventListener("change", refresh);
    colorEl.addEventListener("change", refresh);

    refresh();
  })();
</script>
